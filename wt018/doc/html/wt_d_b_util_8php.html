<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Watchtower: I:/dev/wt018/include/wtDBUtil.php File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>I:/dev/wt018/include/wtDBUtil.php File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wt_d_b_util_8php.html#d2c0fbf96bf4b5c31e8e1d6baac637e4">wtDBGetConnection</a> ($id, $fallback_id=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="wt_d_b_util_8php.html#0d7b179aa6e975867d0a3429233b38e7">wtDBInstall</a> ($file, $db=NULL, $module=NULL)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Utility and installation routines for the database <hr><h2>Function Documentation</h2>
<a class="anchor" name="d2c0fbf96bf4b5c31e8e1d6baac637e4"></a><!-- doxytag: member="wtDBUtil.php::wtDBGetConnection" ref="d2c0fbf96bf4b5c31e8e1d6baac637e4" args="($id, $fallback_id=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wtDBGetConnection           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>fallback_id</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The <a class="el" href="classuser.html">user</a> has the ability to define more than one database in wtConfig.php. Some modules may want to use their own databases instead of share it with the core. In that case, the module will call wtDBGetConnection with the unique identifier of the database. Now, if this database is defined in wtConfig.php, the function will return it, otherwise the default database will be used.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$id</em>&nbsp;</td><td>the identifier of the desired database. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$fallback_id</em>&nbsp;</td><td>Optional. A fallback connection id which will be used if the first database is not defined. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the appropriate database connection, if exists, or the base/fallback connection used by the core. </dd></dl>

</div>
</div><p>
<a class="anchor" name="0d7b179aa6e975867d0a3429233b38e7"></a><!-- doxytag: member="wtDBUtil.php::wtDBInstall" ref="0d7b179aa6e975867d0a3429233b38e7" args="($file, $db=NULL, $module=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wtDBInstall           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>db</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>module</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Installs or updates the database table structure. Watchtower uses an internal storage system to keep track of changes inside the database. Therefore it's important not to make manual changes to the database and instead use this function, because it could result in strange behaviours with the internal database records.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$file</em>&nbsp;</td><td>The file containing the table structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$db</em>&nbsp;</td><td>The database object to use. If NULL, the core database will be used. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$module</em>&nbsp;</td><td>The module owning the database tables defined in $file. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE on success, otherwise FALSE. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Mar 27 17:47:25 2008 for Watchtower by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
